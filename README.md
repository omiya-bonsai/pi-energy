# Pi ENERGY

Raspberry Pi Pico 2 と Waveshare Pico-OLED-1.3 を用いて、
**円周率（π）を計算し続ける行為そのものを可視化する**実験的プロジェクトです。

本プロジェクトでは「πの数値」を主役にせず、

- 時間
- 計算量
- 確からしい桁数
- 計算の勢い（エネルギー）

を表示することで、

> このくらいの時間と計算エネルギーで、この桁数に到達した

という感覚を直感的に理解できることを目的としています。

---

## 動作環境

- Raspberry Pi Pico 2  
- Waveshare Pico-OLED-1.3（128×64, SH1107, SPI）  
- MicroPython  

---

## プロジェクトの考え方

ニュースなどで語られる「円周率◯◯桁」という情報は、
**最終結果（桁数）だけ**が強調されがちです。

しかし実際には、

- 桁が1つ増えるまでに必要な時間
- その間に積み上げられる膨大な計算量
- 初期は速く、後半ほど急激に苦しくなる進み方

といった **過程そのもの** が重要です。

Pi ENERGY は、その「過程」を表示するための装置です。

---

## Display 全体構成

OLED は **横向き表示（128×64）** で、
以下の **5行 + 下部エネルギーバー** で構成されています。

```
[1] Pi ENERGY
[2] d=06  t=00:49
[3] dpm 0.0  nxt ---
[4] ips14.6k N 728k
[5] er -7  av14.8k
[==== energy bar ====]
```

以下で、各行を順に説明します。

---

## 1行目：タイトル行

```
Pi ENERGY
```

- プロジェクト名です
- 右端の小さな記号（スピナー）は、
  プログラムが動き続けていることを示します

---

## 2行目：桁数と経過時間（主役）

```
d=06  t=00:49
```

### d（digits）
- **小数点以下で「確からしい桁数」**
- `d=06` は「小数点以下6桁程度までは信頼できる」という意味です
- `err = |π_est - π|` から `-log10(err)` を使って概算しています

### t（time）
- プログラム起動からの **経過時間**
- この例では「49秒」

👉  
**「Pico 2 で49秒回して、6桁まで到達した」**
という事実を、この1行で表しています。

---

## 3行目：桁の増え方（ニュース的視点）

```
dpm 0.0  nxt ---
```

### dpm（digits per minute）
- **1分あたり何桁増えているか**
- 直近60秒間の平均から計算します
- `0.0` は「直近1分で桁が増えていない」ことを意味します

### nxt（next digit）
- **次の1桁に到達するまでの目安時間（秒）**
- 予測できない場合は `---` と表示されます

👉  
桁が増えない時間が続くほど、
「次の1桁がどれほど重いか」を実感できます。

---

## 4行目：計算量と瞬間速度

```
ips14.6k N 728k
```

### ips（iterations per second）
- **瞬間的な計算速度**
- `14.6k` は「毎秒 約14,600 ステップ」

### N（total iterations）
- 起動してから **合計で何ステップ計算したか**
- `728k` は「約72万ステップ」

👉  
桁が増えなくても、計算エネルギーは確実に積み上がっています。

---

## 5行目：誤差のオーダーと平均速度

```
er -7  av14.8k
```

### er（error exponent）
- 誤差の指数表示です
- `-7` は「誤差がだいたい 10^-7 オーダー」

### av（average ips）
- 起動してからの **平均計算速度**
- 瞬間値（ips）とは違い、安定した指標です

---

## 下部：エネルギーバー

```
[==== energy bar ====]
```

- 最近の最大計算速度に対する **現在の勢い**
- フルに近いほど「全力で回っている」状態
- 数値ではなく **感覚を伝えるための表示**です

---

## 表示が「止まって見える」とき

- d（桁数）が増えない
- dpm が 0.0
- nxt が --- のまま

という状態は **異常ではありません**。

それは、

> 次の1桁を得るために、膨大な計算を積み続けている段階

を正しく示しています。

---

## まとめ

Pi ENERGY は、

- 円周率を「速く計算する」装置ではありません
- 円周率計算に必要な **時間・労力・エネルギー** を
  そのまま可視化する装置です

桁が増えない時間こそが、この装置の一番の見どころです。

